!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):((r=r||self).sort=r.sort||{},r.sort.js=n())}(this,function(){"use strict";function i(e){return function(r,n,t){return e(r,n,t)*t}}var c=function(r,n){if(r)throw Error("Invalid sort config: "+n)},l=function(r){var n=r||{},t=n.asc,e=n.desc,o=t?1:-1,u=t||e;return c(!u,"Expected `asc` or `desc` property"),c(t&&e,"Ambiguous object with `asc` and `desc` config properties"),{order:o,sortBy:u,comparer:r.comparer&&i(r.comparer)}},f=function(p){return function r(n,t,e,o,u,i,c){var f,s;if("string"==typeof n)f=i[n],s=c[n];else{if("function"!=typeof n){var a=l(n);return r(a.sortBy,t,e,a.order,a.comparer||p,i,c)}f=n(i),s=n(c)}var d=u(f,s,o);return(0===d||null==f&&null==s)&&t.length>e?r(t[e],t,e+1,o,u,i,c):d}};function e(r,n,t,e){return Array.isArray(n)?(Array.isArray(t)&&t.length<2&&(t=t[0]),n.sort(function r(t,e,o){if(void 0===t||!0===t)return function(r,n){return e(r,n,o)};if("string"==typeof t)return c(t.includes("."),"String syntax not allowed for nested properties."),function(r,n){return e(r[t],n[t],o)};if("function"==typeof t)return function(r,n){return e(t(r),t(n),o)};if(Array.isArray(t)){var u=f(e);return function(r,n){return u(t[0],t,1,o,e,r,n)}}var n=l(t);return r(n.sortBy,n.comparer||e,n.order)}(t,e,r))):n}function r(r){var t=i(r.comparer);return function(n){return{asc:function(r){return e(1,n,r,t)},desc:function(r){return e(-1,n,r,t)},by:function(r){return e(1,n,r,t)}}}}var n,t=r({comparer:function(r,n,t){return null==r?t:null==n?-t:r<n?-1:r===n?0:1}});return t.createNewInstance=r,(n=Object.freeze({__proto__:null,default:t}))&&n.default||n});
